{"version":3,"sources":["app/views/material-kit/forms/FormConfig.jsx","app/views/config/Config.jsx","app/services/api.js"],"names":["FormConfig","state","config","token","prefix","novo_token","novo_prefix","handleChange","event","persist","_this","setState","[object Object]","target","name","value","edicaoToken","parToken","document","getElementById","disabled","classList","add","style","display","remove","handleChangeToken","notification","id","shortId","generate","heading","icon","color","timestamp","Date","now","title","subtitle","path","axios","post","edicaoPrefix","parPrefix","handleChangePrefix","cancelarToken","cancelarPrefix","_callee","regenerator_default","a","wrap","_context","prev","next","this","Config","ValidatorForm","addValidationRule","Number","parseInt","stop","_callee2","_this2","_context2","api","get","then","response","data","novoToken","data1","data2","_this3","_this$state","console","log","react_default","createElement","lib","ref","onError","errors","Grid","container","spacing","item","lg","md","sm","xs","className","label","type","onChange","Button","variant","onClick","Icon","Component","matx","routeSegments","forms_FormConfig","axios__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","create","baseURL"],"mappings":"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","file":"static/js/35.59e96f81.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport shortId from \"shortid\";\nimport { ValidatorForm, TextValidator } from \"react-material-ui-form-validator\";\nimport axios from \"axios\";\nimport {\n  Button,\n  Icon,\n  Grid\n} from \"@material-ui/core\";\nimport \"date-fns\";\n\nimport api from \"../../../services/api\";\nimport './styles.css';\n\nclass FormConfig extends Component {\n  state = {\n    config: [],\n    token: \"\",\n    prefix: \"\",\n    novo_token: \"\",\n    novo_prefix: \"\"\n  };\n\n  async componentDidMount() {\n    await this.Config();\n    let config = this.state.config;\n    this.setState({token: config[0].token});\n    this.setState({prefix: config[0].prefix});\n    this.setState({novo_token: config[0].token});\n    this.setState({novo_prefix: config[0].prefix});\n    ValidatorForm.addValidationRule(\"isPositive\", value => {\n        if (Number(value) >= 0){\n            return true;\n        } else {\n            return false;\n        }\n    });\n    ValidatorForm.addValidationRule(\"isInteger\", value => {\n        if (parseInt(Number(value)) == value){\n            return true;\n        } else {\n            return false;\n        }\n    });\n    ValidatorForm.addValidationRule(\"isInRange0to100\", value => {\n        if (Number(value) > 0 && Number(value) <= 100){\n            return true;\n        } else {\n            return false;\n        }\n    });\n  }\n    async Config(){\n      await api.get('config').then(response => { this.setState( { config: response.data} )});\n    }\n\n    handleChange = event => {\n      event.persist();\n      this.setState({ [event.target.name]: event.target.value });\n    };\n\n    handleChangeToken(parToken) {\n        this.setState({ token: parToken });\n        this.setState({ novoToken: parToken });\n        let token = parToken;\n        let data1 = {\n          token\n        }\n        api.post('config/token', data1).then(data => data);\n    };\n\n    handleChangePrefix(parPrefix) {\n      this.setState({ prefix: parPrefix });\n      this.setState({ novo_prefix: parPrefix });\n      let prefix = parPrefix;\n      let data2 = {\n        prefix\n      }\n      api.post('config/prefix', data2).then(data => data);\n    }\n\n    edicaoToken = (parToken) => {\n      if (document.getElementById(\"campo1\").disabled == true) {\n        document.getElementById(\"campo1\").disabled = false;\n        document.getElementById(\"campo1\").classList.add('aberto');\n        document.getElementById(\"cancelar1\").style.display = \"block\";\n      } else {\n        document.getElementById(\"campo1\").disabled = true;\n        document.getElementById(\"campo1\").classList.remove('aberto');\n        document.getElementById(\"cancelar1\").style.display = \"none\";\n        this.handleChangeToken(parToken);\n        let notification = {\n          id: shortId.generate(),\n          heading: \"Configurações\",\n          icon: {\n          name: \"settings\",\n          color: \"primary\"\n          },\n          timestamp: Date.now(),\n          title: \"Token do Bot atualizado\",\n          subtitle: \"Novo token = \" + parToken,\n          path: \"/\"\n        }\n        axios.post(\"/api/notification/add\", notification);\n      }\n    };\n\n    edicaoPrefix = (parPrefix) => {\n      if (document.getElementById(\"campo2\").disabled == true) {\n        document.getElementById(\"campo2\").disabled = false;\n        document.getElementById(\"campo2\").classList.add('aberto');\n        document.getElementById(\"cancelar2\").style.display = \"block\";\n      } else {\n        document.getElementById(\"campo2\").disabled = true;\n        document.getElementById(\"campo2\").classList.remove('aberto');\n        document.getElementById(\"cancelar2\").style.display = \"none\";\n        this.handleChangePrefix(parPrefix);\n        let notification = {\n          id: shortId.generate(),\n          heading: \"Configurações\",\n          icon: {\n          name: \"settings\",\n          color: \"primary\"\n          },\n          timestamp: Date.now(),\n          title: \"Prefixo do Bot atualizado\",\n          subtitle: \"Novo prefixo = \" + parPrefix,\n          path: \"/\"\n        }\n        axios.post(\"/api/notification/add\", notification);\n      }\n    }\n\n    cancelarToken = event => {\n      event.persist();\n      document.getElementById(\"campo1\").disabled = true;\n      document.getElementById(\"campo1\").classList.remove('aberto');\n      document.getElementById(\"cancelar1\").style.display = \"none\";\n      this.setState({ novo_token: this.state.token });\n    }\n\n    cancelarPrefix = event => {\n      event.persist();\n      document.getElementById(\"campo2\").disabled = true;\n      document.getElementById(\"campo2\").classList.remove('aberto');\n      document.getElementById(\"cancelar2\").style.display = \"none\";\n      this.setState({ novo_prefix: this.state.prefix });\n    }\n\n  render() {\n    let {\n      novo_token,\n      novo_prefix\n    } = this.state;\n\n    console.log(novo_prefix)\n\n    return (\n      <div>\n        <ValidatorForm\n          ref=\"form\"\n          onError={errors => null}\n        >\n          <Grid container spacing={6}>\n            <Grid item lg={6} md={6} sm={12} xs={12}>\n              <TextValidator\n                className=\"mb-16 w-100\"\n                label=\"Token do Bot\"\n                id=\"campo1\"\n                type=\"text\"\n                onChange={this.handleChange}\n                name=\"novo_token\"\n                value={novo_token}\n                disabled\n              />\n              <Button id=\"cancelar1\" className=\"botoes-config fix4 invi\" color=\"secondary\" variant=\"contained\" onClick={this.cancelarToken}>\n                <Icon>cancel</Icon>\n              </Button>\n              <Button className=\"botoes-config fix3\" color=\"primary\" variant=\"contained\" onClick={() => this.edicaoToken(novo_token)}>\n                <Icon>edit</Icon>\n              </Button>\n              <TextValidator\n                className=\"mb-16 w-100\"\n                label=\"Prefixo do Bot\"\n                disabled\n                id =\"campo2\"\n                onChange={this.handleChange}\n                type=\"text\"\n                name=\"novo_prefix\"\n                value={novo_prefix}\n              />\n              <Button id=\"cancelar2\" className=\"botoes-config fix4 invi\" color=\"secondary\" variant=\"contained\" onClick={this.cancelarPrefix}>\n                <Icon>cancel</Icon>\n              </Button>\n              <Button className=\"botoes-config fix3\" color=\"primary\" variant=\"contained\" onClick={() => this.edicaoPrefix(novo_prefix)}>\n                <Icon>edit</Icon>\n              </Button>\n            </Grid>\n          </Grid>\n        </ValidatorForm>\n      </div>\n    );\n  }\n}\n\nexport default FormConfig;","import React, { Component } from \"react\";\nimport { Breadcrumb } from \"matx\";\nimport FormConfig from \"../material-kit/forms/FormConfig\";\n\nclass Config extends Component {\n  render() {\n    return (\n      <div className=\"m-sm-30\">\n        <div  className=\"mb-sm-30\">\n          <Breadcrumb\n            routeSegments={[\n              { name: \"Configurações\", path: \"/config\" },\n            ]}\n          />\n        </div>\n        <FormConfig />\n      </div>\n    );\n  }\n}\n\nexport default Config;","import axios from 'axios'\n\nconst api = axios.create({\n  baseURL: 'http://localhost:3333'\n})\n\nexport default api\n"],"sourceRoot":""}